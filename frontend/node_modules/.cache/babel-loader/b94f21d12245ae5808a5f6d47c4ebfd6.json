{"ast":null,"code":"var _jsxFileName = \"/home/fabo/programas/next_react/PI-Plataform/frontend/src/components/Modal/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport ReactModal from \"react-modal\";\nimport * as Yup from \"yup\";\nimport \"./styles.css\";\nimport { Container, Votebox } from \"./styles\";\nimport { api } from \"../../services/api\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport githubLogo from \"../../assets/github.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Modal = _ref => {\n  _s();\n\n  let {\n    project,\n    isOpen,\n    close\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [isValidated, setIsValidated] = useState(false);\n  useEffect(() => {\n    ReactModal.setAppElement(\"body\");\n  }, []);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      const schema = Yup.object().shape({\n        email: Yup.string().email().required()\n      });\n      await schema.validate({\n        email\n      }, {\n        abortEarly: false\n      });\n      await api.post(\"/votes\", {\n        email,\n        projectId: project._id\n      });\n      setEmail(\"\");\n      alert(\"Voto feito com sucesso!\");\n    } catch (err) {\n      alert(\"E-mail incorreto, ou ocorreu um erro com o servidor. Tente novamente.\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ReactModal, {\n      isOpen: isOpen,\n      className: \"modal\",\n      onRequestClose: close,\n      overlayClassName: \"background\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: [project.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: project.image,\n            alt: project.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: project.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: project.participants\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: project.github,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: githubLogo,\n              alt: \"github\",\n              width: 50\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: project.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: `${project._id}`,\n            src: project.video,\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Votebox, {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"VOTE AQUI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Insira o seu email* para realizar a vota\\xE7\\xE3o desse projeto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReCAPTCHA, {\n              sitekey: \"6LeQOu4fAAAAALPBe60k29AJbnumrCopWclKbinP\",\n              onChange: () => {\n                setIsValidated(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"email\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                placeholder: \"Seu e-mail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: !isValidated,\n                children: \"VOTAR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"* S\\xF3 ser\\xE1 valido 1 voto por email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close\",\n          type: \"button\",\n          onClick: close,\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Modal, \"8Z2SDBaAkOq5Fivax4Q9okYLssg=\");\n\n_c = Modal;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","useEffect","ReactModal","Yup","Container","Votebox","api","ReCAPTCHA","githubLogo","Modal","project","isOpen","close","email","setEmail","isValidated","setIsValidated","setAppElement","handleSubmit","e","preventDefault","schema","object","shape","string","required","validate","abortEarly","post","projectId","_id","alert","err","image","title","participants","github","description","video","target","value"],"sources":["/home/fabo/programas/next_react/PI-Plataform/frontend/src/components/Modal/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactModal from \"react-modal\";\nimport * as Yup from \"yup\";\nimport \"./styles.css\";\n\nimport { Container, Votebox } from \"./styles\";\n\nimport { api } from \"../../services/api\";\n\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport { Project } from \"../../@types\";\nimport githubLogo from \"../../assets/github.png\";\n\ninterface ModalProps {\n  project: Project;\n  isOpen: boolean;\n  close: () => void;\n}\n\nconst Modal: React.FC<ModalProps> = ({ project, isOpen, close }) => {\n  const [email, setEmail] = useState(\"\");\n  const [isValidated, setIsValidated] = useState(false);\n\n  useEffect(() => {\n    ReactModal.setAppElement(\"body\");\n  }, []);\n\n  async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    try {\n      const schema = Yup.object().shape({\n        email: Yup.string().email().required(),\n      });\n\n      await schema.validate(\n        { email },\n        {\n          abortEarly: false,\n        }\n      );\n\n      await api.post(\"/votes\", {\n        email,\n        projectId: project._id,\n      });\n\n      setEmail(\"\");\n      alert(\"Voto feito com sucesso!\");\n    } catch (err) {\n      alert(\n        \"E-mail incorreto, ou ocorreu um erro com o servidor. Tente novamente.\"\n      );\n    }\n  }\n\n  return (\n    <>\n      <ReactModal\n        isOpen={isOpen}\n        className=\"modal\"\n        onRequestClose={close}\n        overlayClassName=\"background\"\n      >\n        <Container>\n          <header>\n            {project.image ? (\n              <img src={project.image} alt={project.title} />\n            ) : (\n              <></>\n            )}\n            <h1>{project.title}</h1>\n            \n            <br />\n            <p>{project.participants}</p>\n          </header>\n          <button>\n              <a href={project.github}>\n                <img src={githubLogo} alt=\"github\" width={50} />\n              </a>\n            </button>\n          <p>{project.description}</p>\n\n          <div>\n            <iframe\n              title={`${project._id}`}\n              src={project.video}\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            ></iframe>\n            <Votebox>\n              <h1>VOTE AQUI</h1>\n              <p>Insira o seu email* para realizar a votação desse projeto</p>\n              <ReCAPTCHA\n                sitekey=\"6LeQOu4fAAAAALPBe60k29AJbnumrCopWclKbinP\"\n                onChange={() => {\n                  setIsValidated(true);\n                }}\n              />\n              <form onSubmit={handleSubmit}>\n                <input\n                  name=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Seu e-mail\"\n                />\n                <button type=\"submit\" disabled={!isValidated}>\n                  VOTAR\n                </button>\n\n                <span>* Só será valido 1 voto por email</span>\n              </form>\n            </Votebox>\n          </div>\n\n          <button className=\"close\" type=\"button\" onClick={close}>\n            X\n          </button>\n        </Container>\n      </ReactModal>\n    </>\n  );\n};\n\nexport default Modal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}